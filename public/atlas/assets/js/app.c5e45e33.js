(function(t){function e(e){for(var o,n,l=e[0],r=e[1],c=e[2],u=0,d=[];u<l.length;u++)n=l[u],s[n]&&d.push(s[n][0]),s[n]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],o=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var o={},n={app:0},s={app:0},i=[];function l(t){return r.p+"atlas/assets/js/"+({Chat:"Chat",Debug:"Debug",Form:"Form"}[t]||t)+"."+{Chat:"9115b2bc",Debug:"6e83dbf9",Form:"436e6ac5"}[t]+".js"}function r(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var e=[],a={Chat:1,Debug:1,Form:1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise(function(e,a){for(var o="atlas/assets/css/"+({Chat:"Chat",Debug:"Debug",Form:"Form"}[t]||t)+"."+{Chat:"a3d81431",Debug:"af918e28",Form:"914a3c2b"}[t]+".css",s=r.p+o,i=document.getElementsByTagName("link"),l=0;l<i.length;l++){var c=i[l],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===o||u===s))return e()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){c=d[l],u=c.getAttribute("data-href");if(u===o||u===s)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var o=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.request=o,delete n[t],p.parentNode.removeChild(p),a(i)},p.href=s;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){n[t]=0}));var o=s[t];if(0!==o)if(o)e.push(o[2]);else{var i=new Promise(function(e,a){o=s[t]=[e,a]});e.push(o[2]=i);var c,u=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,r.nc&&d.setAttribute("nonce",r.nc),d.src=l(t),c=function(e){d.onerror=d.onload=null,clearTimeout(p);var a=s[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+o+": "+n+")");i.type=o,i.request=n,a[1](i)}s[t]=void 0}};var p=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,u.appendChild(d)}return Promise.all(e)},r.m=t,r.c=o,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(a,o,function(e){return t[e]}.bind(null,o));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var p=u;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"007f":function(t,e,a){"use strict";a.r(e);const o={humanName:"Human Agent Support",humanDescription:" I'm here to help you.",humanIco:"/atlas/static/custom/agent@2x.png",disable:[]},n={updateHumanState(t,e){t[e.state]=e.val}},s={},i={};e["default"]={state:o,mutations:n,actions:s,getters:i}},"02c5":function(t,e,a){"use strict";a.r(e);const o={agentName:"",agentDescription:"",agentIco:"",disable:[]},n={updateAgentState(t,e){t[e.state]=e.val}},s={},i={};e["default"]={state:o,mutations:n,actions:s,getters:i}},"05f6":function(t,e,a){"use strict";a.r(e);const o={atlasInit:!1},n={updateAtlasState(t,e){t[e.state]=e.val}},s={},i={};e["default"]={state:o,mutations:n,actions:s,getters:i}},"0f9a":function(t,e,a){"use strict";a.r(e);const o={givenName:"Anonymous",surname:"User",email:"noemail@domain.com",properties:{}},n={updateUserState(t,e){t[e.state]=e.val}},s={},i={userObj:t=>t};e["default"]={state:o,mutations:n,actions:s,getters:i}},"14c2":function(t,e,a){"use strict";a.r(e);const o={appBackground:"#f0f3f6",contentBackground:"#fff",showHeader:!0,showSubHeader:!1,showUserInfo:!0,showFooter:!0,actionsLocation:"header",userInfoDisplay:"inline",headerLogoPath:"/atlas/static/custom/logo.svg",headerColor:"rgb(34, 47, 61)",initButtonColour:"#CE0000",buttonPosition:"bottomRight",buttonIcon:"robot",enableNotification:!0,enablePrint:!0,enableDownloadLog:!0,enableAgentSwap:!0,enableEndChat:!0,chatFieldPlaceholderMsg:"type a msg...",chatSubmitButtonTxt:"Submit",chatMsgTransition:"fade",disable:[]},n={updateTplState(t,e){t[e.state]=e.val}},s={},i={};e["default"]={state:o,mutations:n,actions:s,getters:i}},"1a10":function(t,e,a){"use strict";var o=a("f664"),n=a.n(o);n.a},"1cbe":function(t,e,a){"use strict";a.r(e);const o={infoMessage:"",loadedMsgs:!0,messages:[],messageTyping:[],messageDelay:1e3,showTimeOnMsg:!0,displayTimeAs:"fromNow",enableMarkdown:!0,showChatUserIco:!0,connectToLiveAgentMsg:"Agent chat session established, Waiting for agent to join.",liveAgentConnectionMsg:"Transfering to a live agent",enableTransferWaitingAnimation:!0,connectedToLiveAgentMsg:["Thank you for choosing Costco! My name is"],connectedToVirtualAgentMsg:["Connecting you back to the Bot.."],talkingTo:"bot",initBotMsg:"hello bot",initHumanMsg:"",quitChat:"The user has exited the chat",hideMsgs:["hello bot","The user has exited the chat","Agent chat session established, Waiting for agent to join.","Connecting you back to the Bot.."],hideCards:["carousel"],autoInitiateCarousel:!0,assistMsg:"",msgToHuman:"I'd love to help - please let me gather some info and let me see if I can assist you before transferring you to a live agent.",msgToBot:"Connecting you back to the Bot..",selectedHandOff:"",handOff:[{name:"Order Inquiries",value:"1597",type:"bot",initMsg:"order inquiries"},{name:"Account Inquiries",value:"2084",type:"human",initMsg:"Account Inquiries"},{name:"Store Inquiries",value:"2085",type:"human",initMsg:"Store Inquiries"},{name:"Product Information",value:"1598",type:"human",initMsg:"Product Information"},{name:"Returns/Exchanges",value:"1599",type:"bot",initMsg:"Returns/Exchanges"},{name:"Coupon Promotions",value:"1600",type:"human",initMsg:"Coupon Promotions"},{name:"Online Printing",value:"1601",type:"human",initMsg:"Online Printing"},{name:"Password Login",value:"1602",type:"human",initMsg:"Password Login"},{name:"Website Errors",value:"1603",type:"human",initMsg:"Website Errors"},{name:"Office Depot Rewards",value:"1604",type:"human",initMsg:"Office Depot Rewards"},{name:"Other",value:"1605",type:"human",initMsg:"Other"}]},n={updateConvState(t,e){t[e.state]=e.val},showMsg(t){const e=this;e.loading=!1,setTimeout(()=>{e.vis=!0},100)},addMsg(t,e){const a=this;"appMaker"===e.val.role&&(e.val.hidden=!0,e.val.typing=!0,t.messageTyping.push(e.val)),t.messages.push(e.val),setTimeout(()=>{a.commit("unhideMsg",{obj:e.val}),setTimeout(()=>{let t=document.getElementById("FB-conversation");document.body.classList.contains("mobile")&&(t=document.getElementById("FB-scrollWrapper")),null!==t&&t.scrollTo(0,t.scrollHeight)},10)},t.messageDelay*t.messageTyping.length)},unhideMsg(t,e){const a=this,o=t.messages.indexOf(e.obj);-1!==o&&(t.messages[o].hidden=!1);const n=t.messageTyping.indexOf(e.obj);-1!==n&&(t.messageTyping[n].hidden=!1),setTimeout(()=>{a.commit("finishTyping",{obj:t.messages[o]})},1e3),setTimeout(()=>{let t=document.getElementById("FB-conversation");document.body.classList.contains("mobile")&&(t=document.getElementById("FB-scrollWrapper")),null!==t&&t.scrollTo(0,t.scrollHeight)},10)},finishTyping(t,e){const a=t.messages.indexOf(e.obj);-1!==a&&(t.messages[a].typing=!1);const o=t.messageTyping.indexOf(e.obj);-1!==o&&t.messageTyping.splice(o,1),setTimeout(()=>{let t=document.getElementById("FB-conversation");document.body.classList.contains("mobile")&&(t=document.getElementById("FB-scrollWrapper")),null!==t&&t.scrollTo(0,t.scrollHeight)},400)}},s={},i={userTalkingTo:t=>t.talkingTo,initialBotMsg:t=>t.initBotMsg,initialHumanMsg:t=>t.initHumanMsg,msgsLoaded:t=>t.loadingMsgs,selectedHandOffObj:t=>t.handOff[t.selectedHandOff],handOffArr:t=>t.handOff,userAssistMsg:t=>t.assistMsg,initialiseCarousel:t=>t.autoInitiateCarousel};e["default"]={state:o,mutations:n,actions:s,getters:i}},"23a5":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"button",class:{active:t.activeButton,small:t.isSmall,justifyLeft:"left"===t.alignContent},on:{click:t.toggleActive}},[t.loading?a("LoadingDots"):t._e(),t.iconClassName&&!t.loading?a("font-awesome-icon",{staticClass:"buttonIco",class:{hastxt:t.buttonTxt},attrs:{icon:t.iconClassName}}):t._e(),t.buttonTxt?a("span",{staticClass:"buttonTxt",style:{textAlign:t.textAlign}},[t.loading?t._e():a("span",{staticClass:"buttonHeader"},[t._v(t._s(t.buttonTxt))]),!t.loading&&t.buttonSubTxt?a("span",{staticClass:"buttonSubHeader"},[t._v(t._s(t.buttonSubTxt))]):t._e()]):t._e(),t.customIco?a("div",{staticClass:"customIco"}):t._e(),t.lineThrough?a("div",{staticClass:"line"}):t._e()],1)},n=[],s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"swal-button__loader"},[a("div"),a("div"),a("div")])}],l={name:"LoadingDots"},r=l,c=(a("adfd"),a("2877")),u=Object(c["a"])(r,s,i,!1,null,"a1f7f2d6",null);u.options.__file="LoadingDots.vue";var d=u.exports,p={name:"ButtonWidget",props:{buttonTxt:{type:String,default:""},buttonSubTxt:{type:String,default:""},iconClassName:{type:String,default:""},textAlign:{type:String,default:"left"},alignContent:{type:String,default:""},isSmall:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},customIco:{type:String,default:""},lineThrough:{type:Boolean,default:!1}},components:{LoadingDots:d},data(){return{activeButton:!1}},methods:{toggleActive(){const t=this;t.activeButton=!t.activeButton}}},m=p,g=(a("38c9"),Object(c["a"])(m,o,n,!1,null,"0908913a",null));g.options.__file="ButtonWidget.vue";e["a"]=g.exports},"2a74":function(t,e,a){"use strict";a.r(e);a("a481"),a("ac6a");const o=a("d307"),n={};o.keys().forEach(t=>{"./index.js"!==t&&(n[t.replace(/(\.\/|\.js)/g,"")]=o(t).default)}),e["default"]=n},"38c9":function(t,e,a){"use strict";var o=a("cc02"),n=a.n(o);n.a},4360:function(t,e,a){"use strict";var o=a("2b0e"),n=a("2f62"),s=a("2a74");o["a"].use(n["a"]),e["a"]=new n["a"].Store({modules:s["default"]})},"56d7":function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),n=a("ecee"),s=a("c074"),i=a("ad3d"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:[t.theme,t.appScreenType,t.themeSize,t.platform],attrs:{id:"FB-atlas"}},[a("div",{class:[{hasFixedUserInfo:t.showUserInfo&&"fixed"===t.userInfoDisplay,show:t.showChatInterface,hasHeader:t.showHeader,hasSubHeader:t.showSubHeader,hasFooter:t.showFooter,hasUserInfo:t.showUserInfo&&"fixed"===t.userInfoDisplay},t.buttonPosition],style:{backgroundColor:t.appBackground},attrs:{id:"FB-interface"}},[t.showHeader?a("Header"):t._e(),t.showUserInfo&&"fixed"===t.userInfoDisplay?a("UserInfo",{staticClass:"fixed"}):t._e(),a("main",{class:[t.userInfoDisplay],style:{backgroundColor:t.contentBackground}},[a("router-view")],1)],1),!t.hideButtonOnInterface!==t.showChatInterface&&t.hideButtonOnInterface?t._e():a("InitButton",{nativeOn:{click:function(e){return t.displayInterface(e)}}}),"smooch"===t.connectionType?a("div",{ref:"smooch",staticStyle:{display:"none"},attrs:{id:"smooch-wrapper"}}):t._e()],1)},r=[],c=(a("ac6a"),a("2f62")),u=a("5b35"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.buttonPosition,style:{background:t.initButtonColour},attrs:{id:"FB-initAtlas"}},[a("font-awesome-icon",{attrs:{id:"FB-initButton",icon:t.buttonIcon}})],1)},p=[],m={name:"TPL-InitButton",computed:Object(c["b"])({initButtonColour:t=>t.tpl.initButtonColour,buttonPosition:t=>t.tpl.buttonPosition,buttonIcon:t=>t.tpl.buttonIcon})},g=m,h=(a("1a10"),a("2877")),f=Object(h["a"])(g,d,p,!1,null,"2083c5e6",null);f.options.__file="TPL-InitButton.vue";var b=f.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{style:{backgroundColor:t.headerColor}},[a("a",{attrs:{id:"FB-log",href:"#"}}),a("div",{attrs:{id:"FB-logoContainer"}},[a("div",{style:"background-image: url("+t.headerLogoPath+");",attrs:{id:"FB-logo"}})]),(t.enableDownloadLog||t.enablePrint||t.enableNotification)&&"form"!==t.$route.name&&"header"===t.actionsLocation?a("nav",{attrs:{id:"FB-optionsPanel"}},[a("ul",[t.enableDownloadLog?a("li",[a("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"download"},nativeOn:{click:function(e){return t.downloadLog(e)}}})],1):t._e(),t.enablePrint?a("li",[a("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"print"},nativeOn:{click:function(e){return t.print(e)}}})],1):t._e(),t.enableNotification?a("li",[a("Button",t._b({staticClass:"semiTransparent",class:{disabled:!t.enableNotificationIco},attrs:{iconClassName:"bell"},nativeOn:{click:function(e){return t.toggleNotification(e)}}},"Button",{lineThrough:!t.enableNotificationIco},!1))],1):t._e()])]):t._e(),t.enableEndChat?a("nav",{attrs:{id:"FB-optionsPanel"}},[a("ul",[a("li",[a("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"times"},nativeOn:{click:function(e){return t.exit(e)}}})],1)])]):t._e(),"form"!==t.$route.name&&t.enableAgentSwap?a("nav",{attrs:{id:"FB-chatOptionsMenu"}},[a("ul",[a("li",{staticStyle:{padding:"0px 8px"}},[a("nav",{attrs:{id:"FB-agentActions"}},[a("Button",{staticClass:"semiTransparent",staticStyle:{"margin-right":"4px"},attrs:{alignContent:"left",iconClassName:"robot",buttonTxt:t.botName,buttonSubTxt:"Agent"}}),a("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"ellipsis-v"}})],1),a("ul",{class:{collapsed:!t.enableAgentSwap},style:{backgroundColor:t.headerColor}},[a("li",[a("Button",{staticClass:"semiTransparent",staticStyle:{width:"100%"},attrs:{alignContent:"left",iconClassName:"user-tie",buttonTxt:"Chat with",buttonSubTxt:"Live Agent"}})],1),a("li",[a("Button",{staticClass:"semiTransparent",staticStyle:{width:"100%"},attrs:{alignContent:"left",iconClassName:"headset",buttonTxt:"Request",buttonSubTxt:"Callback"}})],1),a("li",[a("Button",{staticClass:"semiTransparent",staticStyle:{width:"100%"},attrs:{alignContent:"left",iconClassName:"star-half-alt",buttonTxt:"Feedback",buttonSubTxt:"Review"}})],1)])])])]):t._e(),t.debug||"debug"===t.$route.name?a("nav",{attrs:{id:"FB-debug"}},[a("ul",[a("li",[a("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"debug"===t.$route.name?"comments":"cog"},nativeOn:{click:function(e){return t.showSettings(e)}}})],1)])]):t._e(),"atlasModel"!==t.appScreenType||t.enableEndChat?t._e():a("nav",{attrs:{id:"FB-debug"}},[a("ul",[a("li",[a("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"times"},nativeOn:{click:function(e){return t.closeModel(e)}}})],1)])])])},v=[],w=a("23a5"),I=a("5118"),y={name:"TPL-Header",components:{Button:w["a"]},data(){return{enableNotificationIco:!0}},computed:Object(c["b"])({headerLogoPath:t=>t.tpl.headerLogoPath,smoochAppID:t=>t.app.smoochAppID,headerColor:t=>t.tpl.headerColor,enableNotification:t=>t.tpl.enableNotification,enablePrint:t=>t.tpl.enablePrint,enableDownloadLog:t=>t.tpl.enableDownloadLog,enableAgentSwap:t=>t.tpl.enableAgentSwap,enableEndChat:t=>t.tpl.enableEndChat,botName:t=>t.bot.botName,debug:t=>t.app.debug,appScreenType:t=>t.app.appScreenType,actionsLocation:t=>t.tpl.actionsLocation,exitChatURL:t=>t.app.exitChatURL,exitPath:t=>t.app.exitPath,exitAction:t=>t.app.exitAction}),methods:{showSettings(){const t=this;"debug"===t.$route.name?t.$router.push("/atlas"):t.$router.push("/atlas/Debug")},closeModel(){const t=this;t.$store.commit("updateAppState",{val:!1,state:"showChatInterface"})},toggleNotification(){const t=this,e={appId:t.smoochAppID};t.enableNotificationIco=!t.enableNotificationIco,t.enableNotificationIco||(e.soundNotificationEnabled=!1),t.$store.commit("destroySmooch"),t.$store.commit("initSmooch",e)},print(){window.print()},downloadLog(){const t=[],e=document.querySelectorAll("#FB-atlas dl");e.forEach(e=>{const a=e.querySelectorAll("dt")[0].outerText,o=e.querySelectorAll("dd")[0].outerText;t.push([a,o])});let a="data:text/csv;charset=utf-8,";t.forEach(t=>{const e=t.join(",");a+=`${e} `});const o=encodeURI(a),n=document.getElementById("FB-log");n.setAttribute("href",o),n.setAttribute("download","chatLog.csv"),n.click()},exit(){const t=this;""!==t.exitChatURL?window.location=t.exitChatURL:""!==t.exitPath?t.$router.push(t.exitPath):""!==t.exitAction?("hide"===t.exitAction&&t.$store.commit("updateAppState",{val:!1,state:"showChatInterface"}),"destroy"===t.exitAction&&(document.getElementById("FB-interface").remove(),t.$store.commit("sendSmoochMsg",t.quitChat),Object(I["setTimeout"])(()=>{t.$store.commit("logoutSmooch"),t.$store.commit("destroySmooch"),t.$store.commit("clearSession")},500))):console.error("no exit path or action defined!")}}},T=y,C=(a("723f"),Object(h["a"])(T,S,v,!1,null,"50b67b25",null));C.options.__file="TPL-Header.vue";var B=C.exports,x={name:"Atlas",components:{Header:B,UserInfo:u["a"],InitButton:b},data(){return{resizeTimer:null}},created(){const t=this;window.addEventListener("beforeunload",e=>{e.preventDefault(),t.commit("sendSmoochMsg",t.quitChat)});const e=[];Object.entries(t.$store.state).forEach(t=>{Object.entries(t[1]).forEach(t=>{const a=t[0];-1===e.indexOf(a)&&e.push(a)})}),this.$store.commit("updateAppState",{val:e,state:"allStates"}),document.addEventListener("displayInterface",e=>{t.displayInterface()}),t.getWindowWidth(),window.addEventListener("resize",t.getWindowWidth),localStorage.getItem("chatChannel")!==localStorage.getItem("prevChatChannel")&&t.clearChat(),localStorage.setItem("prevChatChannel",localStorage.getItem("chatChannel")),t.updateConfig(),"smooch"===t.connectionType&&function(t,e,a,o){function n(){try{let a;if((a="string"===typeof this.response?JSON.parse(this.response):this.response).url){const t=e.getElementsByTagName("script")[0],o=e.createElement("script");o.async=!0,o.src=a.url,t.parentNode.insertBefore(o,t)}}catch(t){}}let s,i,l;const r=[],c=[];t[a]={init(){s=arguments;var t={then(e){return c.push({type:"t",next:e}),t},catch(e){return c.push({type:"c",next:e}),t}};return t},on(){r.push(arguments)},render(){i=arguments},destroy(){l=arguments}},t.__onWebMessengerHostReady__=function(e){if(delete t.__onWebMessengerHostReady__,t[a]=e,s)for(var o=e.init(...s),n=0;n<c.length;n++){const t=c[n];o="t"===t.type?o.then(t.next):o.catch(t.next)}for(i&&e.render(...i),l&&e.destroy(...l),n=0;n<r.length;n++)e.on(...r[n])};const u=new XMLHttpRequest;u.addEventListener("load",n),u.open("GET",o+"/loader.json",!0),u.responseType="json",u.send()}(window,document,"Bots","/atlas/static/botsdk"),window.addEventListener("message",t.captureMsg,!1)},mounted(){const t=1===this.$route.params.bot;this.$store.commit("updateFormState",{state:"isBot",val:t});const e=1===this.$route.params.bot;this.$store.commit("updateFormState",{state:"isWorkonomy",val:e}),window.frameElement&&window.frameElement.nodeName},computed:Object(c["b"])({appBackground:t=>t.tpl.appBackground,contentBackground:t=>t.tpl.contentBackground,showHeader:t=>t.tpl.showHeader,showSubHeader:t=>t.tpl.showSubHeader,showUserInfo:t=>t.tpl.showUserInfo,showFooter:t=>t.tpl.showFooter,userInfoDisplay:t=>t.tpl.userInfoDisplay,platform:t=>t.app.platform,allStates:t=>t.app.allStates,theme:t=>t.app.theme,themeSize:t=>t.app.themeSize,appScreenType:t=>t.app.appScreenType,showChatInterface:t=>t.app.showChatInterface,hideButtonOnInterface:t=>t.app.hideButtonOnInterface,connectionType:t=>t.app.connectionType,disableApp:t=>t.app.disable,disableTpl:t=>t.tpl.disable,disableBot:t=>t.bot.disable,buttonPosition:t=>t.tpl.buttonPosition,quitChat:t=>t.conversation.quitChat,initLander:t=>t.app.initLander,isBot:t=>t.form.isBot}),methods:{updateConfig(){const t=this;if("undefined"!==typeof window.Atlas&&"undefined"!==typeof window.Atlas.config){const t=[],e=[],a=[],o=[],n=[],s=[];if(window.Atlas.config.app){const e=Object.entries(window.Atlas.config.app);e.forEach(e=>{this.$store.commit("updateAppState",{val:e[1],state:e[0]}),t.push(e[0])})}if(window.Atlas.config.tpl){const t=Object.entries(window.Atlas.config.tpl);t.forEach(t=>{this.$store.commit("updateTplState",{val:t[1],state:t[0]}),e.push(t[0])})}if(window.Atlas.config.bot){const t=Object.entries(window.Atlas.config.bot);t.forEach(t=>{this.$store.commit("updateBotState",{val:t[1],state:t[0]}),a.push(t[0])})}if(window.Atlas.config.conversation){const t=Object.entries(window.Atlas.config.conversation);t.forEach(t=>{this.$store.commit("updateConvState",{val:t[1],state:t[0]}),o.push(t[0])})}if(window.Atlas.config.form){const t=Object.entries(window.Atlas.config.liveForm);t.forEach(t=>{this.$store.commit("updateFormState",{val:t[1],state:t[0]}),n.push(t[0])})}if(window.Atlas.config.user){const t=Object.entries(window.Atlas.config.user);t.forEach(t=>{this.$store.commit("updateUserState",{val:t[1],state:t[0]}),s.push(t[0])})}this.$store.commit("updateAppState",{val:t,state:"disable"}),this.$store.commit("updateTplState",{val:e,state:"disable"}),this.$store.commit("updateBotState",{val:a,state:"disable"}),this.$store.commit("updateConvState",{val:o,state:"disable"}),this.$store.commit("updateFormState",{val:o,state:"disable"}),this.$store.commit("updateUserState",{val:s,state:"disable"})}-1===t.disableApp.indexOf("debug")&&null!==localStorage.getItem("debug")&&this.$store.commit("updateAppState",{val:"true"===String(localStorage.getItem("debug")),state:"debug"}),-1===t.disableApp.indexOf("connectionType")&&null!==localStorage.getItem("connectionType")&&this.$store.commit("updateAppState",{val:localStorage.getItem("connectionType"),state:"connectionType"}),-1===t.disableApp.indexOf("smoochAppID")&&null!==localStorage.getItem("smoochAppID")&&this.$store.commit("updateAppState",{val:localStorage.getItem("smoochAppID"),state:"smoochAppID"}),-1===t.disableApp.indexOf("theme")&&null!==localStorage.getItem("theme")&&this.$store.commit("updateAppState",{val:localStorage.getItem("theme"),state:"theme"}),-1===t.disableApp.indexOf("themeSize")&&null!==localStorage.getItem("themeSize")&&this.$store.commit("updateAppState",{val:localStorage.getItem("themeSize"),state:"themeSize"}),-1===t.disableApp.indexOf("appScreenType")&&null!==localStorage.getItem("appScreenType")&&this.$store.commit("updateAppState",{val:localStorage.getItem("appScreenType"),state:"appScreenType"}),-1===t.disableApp.indexOf("showChatInterface")&&null!==localStorage.getItem("showChatInterface")&&this.$store.commit("updateAppState",{val:"true"===String(localStorage.getItem("showChatInterface")),state:"showChatInterface"}),-1===t.disableApp.indexOf("hideButtonOnInterface")&&null!==localStorage.getItem("hideButtonOnInterface")&&this.$store.commit("updateAppState",{val:"true"===String(localStorage.getItem("hideButtonOnInterface")),state:"hideButtonOnInterface"}),-1===t.disableApp.indexOf("initLander")&&null!==localStorage.getItem("initLander")&&this.$store.commit("updateAppState",{val:localStorage.getItem("initLander"),state:"initLander"}),-1===t.disableTpl.indexOf("appBackground")&&null!==localStorage.getItem("appBackground")&&this.$store.commit("updateTplState",{val:localStorage.getItem("appBackground"),state:"appBackground"}),-1===t.disableTpl.indexOf("contentBackground")&&null!==localStorage.getItem("contentBackground")&&this.$store.commit("updateTplState",{val:localStorage.getItem("contentBackground"),state:"contentBackground"}),-1===t.disableTpl.indexOf("showHeader")&&null!==localStorage.getItem("showHeader")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("showHeader")),state:"showHeader"}),-1===t.disableTpl.indexOf("showSubHeader")&&null!==localStorage.getItem("showSubHeader")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("showSubHeader")),state:"showSubHeader"}),-1===t.disableTpl.indexOf("showUserInfo")&&null!==localStorage.getItem("showUserInfo")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("showUserInfo")),state:"showUserInfo"}),-1===t.disableTpl.indexOf("showFooter")&&null!==localStorage.getItem("showFooter")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("showFooter")),state:"showFooter"}),-1===t.disableTpl.indexOf("userInfoDisplay")&&null!==localStorage.getItem("userInfoDisplay")&&this.$store.commit("updateTplState",{val:localStorage.getItem("userInfoDisplay"),state:"userInfoDisplay"}),-1===t.disableTpl.indexOf("headerLogoPath")&&null!==localStorage.getItem("headerLogoPath")&&this.$store.commit("updateTplState",{val:localStorage.getItem("headerLogoPath"),state:"headerLogoPath"}),-1===t.disableTpl.indexOf("headerColor")&&null!==localStorage.getItem("headerColor")&&this.$store.commit("updateTplState",{val:localStorage.getItem("headerColor"),state:"headerColor"}),-1===t.disableTpl.indexOf("initButtonColour")&&null!==localStorage.getItem("initButtonColour")&&this.$store.commit("updateTplState",{val:localStorage.getItem("initButtonColour"),state:"initButtonColour"}),-1===t.disableTpl.indexOf("buttonPosition")&&null!==localStorage.getItem("buttonPosition")&&this.$store.commit("updateTplState",{val:localStorage.getItem("buttonPosition"),state:"buttonPosition"}),-1===t.disableTpl.indexOf("buttonIcon")&&null!==localStorage.getItem("buttonIcon")&&this.$store.commit("updateTplState",{val:localStorage.getItem("buttonIcon"),state:"buttonIcon"}),-1===t.disableTpl.indexOf("enableNotification")&&null!==localStorage.getItem("enableNotification")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("enableNotification")),state:"enableNotification"}),-1===t.disableTpl.indexOf("enablePrint")&&null!==localStorage.getItem("enablePrint")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("enablePrint")),state:"enablePrint"}),-1===t.disableTpl.indexOf("enableDownloadLog")&&null!==localStorage.getItem("enableDownloadLog")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("enableDownloadLog")),state:"enableDownloadLog"}),-1===t.disableTpl.indexOf("enableAgentSwap")&&null!==localStorage.getItem("enableAgentSwap")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("enableAgentSwap")),state:"enableAgentSwap"}),-1===t.disableTpl.indexOf("chatFieldPlaceholderMsg")&&null!==localStorage.getItem("chatFieldPlaceholderMsg")&&this.$store.commit("updateTplState",{val:localStorage.getItem("chatFieldPlaceholderMsg"),state:"chatFieldPlaceholderMsg"}),-1===t.disableTpl.indexOf("chatSubmitButtonTxt")&&null!==localStorage.getItem("chatSubmitButtonTxt")&&this.$store.commit("updateTplState",{val:localStorage.getItem("chatSubmitButtonTxt"),state:"chatSubmitButtonTxt"}),-1===t.disableTpl.indexOf("chatMsgTransition")&&null!==localStorage.getItem("chatMsgTransition")&&this.$store.commit("updateTplState",{val:localStorage.getItem("chatMsgTransition"),state:"chatMsgTransition"}),-1===t.disableBot.indexOf("botName")&&null!==localStorage.getItem("botName")&&this.$store.commit("updateTplState",{val:localStorage.getItem("botName"),state:"botName"}),-1===t.disableBot.indexOf("botDescription")&&null!==localStorage.getItem("botDescription")&&this.$store.commit("updateTplState",{val:localStorage.getItem("botDescription"),state:"botDescription"}),-1===t.disableBot.indexOf("botIco")&&null!==localStorage.getItem("botIco")&&this.$store.commit("updateTplState",{val:localStorage.getItem("botIco"),state:"botIco"})},displayInterface(){const t=this;t.$store.commit("updateAppState",{val:!t.showChatInterface,state:"showChatInterface"})},captureMsg(t){const e=this;if(window.parent,"undefined"!==typeof t.data&&"updateAtlas"===t.data.source){if(t.data.config&&(window.Atlas.config=t.data.config,e.updateConfig()),t.data.login){e.$store.commit("updateUserState",{val:t.data.config.firstName,state:"givenName"}),e.$store.commit("updateUserState",{val:t.data.config.lastName,state:"surname"}),e.$store.commit("updateUserState",{val:t.data.config.email,state:"email"});const a={};Object.entries(t.data.fields).forEach(t=>{a[t[0]]=t[1].val}),e.$store.commit("updateUserState",{val:a,state:"properties"})}t.data.init&&Object(I["setTimeout"])(()=>{e.$router.push(e.initLander)},500)}},clearChat(t){const e=this;e.$store.commit("clearSession")},getWindowWidth(){const t=this;clearTimeout(t.resizeTimer),t.resizeTimer=Object(I["setTimeout"])(()=>{window.innerWidth<520?"mobile"!==t.platform&&(localStorage.setItem("appScreenTypePrev",t.appScreenType),t.$store.commit("updateAppState",{val:"atlasFull",state:"appScreenType"}),t.$store.commit("updateAppState",{val:"mobile",state:"platform"})):"mobile"===t.platform&&(t.$store.commit("updateAppState",{val:localStorage.getItem("appScreenTypePrev"),state:"appScreenType"}),t.$store.commit("updateAppState",{val:"web",state:"platform"})),Object(I["setTimeout"])(()=>{let e=document.getElementById("FB-conversation");"mobile"!==t.platform&&"atlasFull"!==t.appScreenType||(e=document.getElementById("FB-scrollWrapper")),null!==e&&e.scrollTo(0,e.scrollHeight)},10)},250)}}},A=x,O=(a("7faf"),Object(h["a"])(A,l,r,!1,null,null,null));O.options.__file="App.vue";var $=O.exports,N=a("a18c"),E=a("4360");n["c"].add(s["d"],s["h"],s["a"],s["i"],s["e"],s["m"],s["n"],s["f"],s["k"],s["b"],s["l"],s["c"],s["j"],s["g"]),o["a"].component("font-awesome-icon",i["a"]),o["a"].config.productionTip=!1,new o["a"]({router:N["default"],store:E["a"],render:t=>t($)}).$mount("#FB-atlas")},"5b35":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",[(t.enableDownloadLog||t.enablePrint||t.enableNotification)&&"form"!==t.$route.name&&"chat"===t.actionsLocation?a("nav",{attrs:{id:"FB-optionsPanel"}},[a("ul",{class:{active:t.actionsDisplayMenu}},[a("li",[a("Button",{staticClass:"semiTransparent",attrs:{id:"FB-actionsMenu",iconClassName:"sliders-h"},nativeOn:{click:function(e){return t.toggleActionsDisplay(e)}}}),a("ul",[t.enableDownloadLog?a("li",[a("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"download"},nativeOn:{click:function(e){return t.downloadLog(e)}}})],1):t._e(),t.enablePrint?a("li",[a("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"print"},nativeOn:{click:function(e){return t.print(e)}}})],1):t._e(),t.enableNotification?a("li",[a("Button",t._b({staticClass:"semiTransparent",class:{disabled:!t.enableNotificationIco},attrs:{iconClassName:"bell"},nativeOn:{click:function(e){return t.toggleNotification(e)}}},"Button",{lineThrough:!t.enableNotificationIco},!1))],1):t._e()])],1)]),a("ul",[t.enableEndChat?a("li",[a("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"times"},nativeOn:{click:function(e){return t.exit(e)}}})],1):t._e()])]):t._e(),""!==t.agentIco?a("div",[a("img",{attrs:{id:"FB-botIco",src:t.agentIco}})]):t._e(),""!==t.agentName?a("div",{staticStyle:{flex:"1","padding-right":"100px"}},[a("h4",[t._v("\n\t\t\t"+t._s(t.agentName)+"\n\t\t\t"),a("span",[t._v(t._s(t.agentDescription))])])]):t._e()])},n=[],s=(a("ac6a"),a("2f62")),i=a("23a5"),l={name:"TPL-UserInfo",components:{Button:i["a"]},data(){return{enableNotificationIco:!0,actionsDisplayMenu:!1}},created(){const t=this;"bot"===t.initAgentDisplay?(this.$store.commit("updateAgentState",{val:t.botIco,state:"agentIco"}),this.$store.commit("updateAgentState",{val:t.botDescription,state:"agentDescription"}),this.$store.commit("updateAgentState",{val:t.botName,state:"agentName"})):"human"===t.initAgentDisplay&&(this.$store.commit("updateAgentState",{val:t.humanIco,state:"agentIco"}),this.$store.commit("updateAgentState",{val:t.humanDescription,state:"agentDescription"}),this.$store.commit("updateAgentState",{val:t.humanName,state:"agentName"}))},computed:Object(s["b"])({agentName:t=>t.agent.agentName,agentDescription:t=>t.agent.agentDescription,agentIco:t=>t.agent.agentIco,botName:t=>t.bot.botName,botDescription:t=>t.bot.botDescription,botIco:t=>t.bot.botIco,humanName:t=>t.human.botName,humanDescription:t=>t.human.botDescription,humanIco:t=>t.human.botIco,smoochAppID:t=>t.app.smoochAppID,enableNotification:t=>t.tpl.enableNotification,enablePrint:t=>t.tpl.enablePrint,enableDownloadLog:t=>t.tpl.enableDownloadLog,enableEndChat:t=>t.tpl.enableEndChat,userInfoDisplay:t=>t.tpl.userInfoDisplay,exitChatURL:t=>t.app.exitChatURL,exitPath:t=>t.app.exitPath,exitAction:t=>t.app.exitAction,actionsLocation:t=>t.tpl.actionsLocation,initAgentDisplay:t=>t.app.initAgentDisplay}),methods:{closeModel(){const t=this;t.$store.commit("updateAppState",{val:!1,state:"showChatInterface"})},toggleNotification(){const t=this,e={appId:t.smoochAppID};t.enableNotificationIco=!t.enableNotificationIco,t.enableNotificationIco||(e.soundNotificationEnabled=!1),t.$store.commit("destroySmooch"),t.$store.commit("initSmooch",e)},print(){window.print()},downloadLog(){const t=[],e=document.querySelectorAll("#FB-atlas dl");e.forEach(e=>{const a=e.querySelectorAll("dt")[0].outerText,o=e.querySelectorAll("dd")[0].outerText;t.push([a,o])});let a="data:text/csv;charset=utf-8,";t.forEach(t=>{const e=t.join(",");a+=`${e} `});const o=encodeURI(a),n=document.getElementById("FB-log");n.setAttribute("href",o),n.setAttribute("download","chatLog.csv"),n.click()},exit(){const t=this;""!==t.exitChatURL?window.location=t.exitChatURL:""!==t.exitPath?t.$router.push(t.exitPath):""!==t.exitAction?("hide"===t.exitAction&&t.$store.commit("updateAppState",{val:!1,state:"showChatInterface"}),"destroy"===t.exitAction&&(document.getElementById("FB-interface").remove(),t.$store.commit("sendSmoochMsg",t.quitChat),setTimeout(()=>{t.$store.commit("logoutSmooch"),t.$store.commit("destroySmooch"),t.$store.commit("clearSession")},500))):console.error("no exit path or action defined!")},toggleActionsDisplay(){const t=this;t.actionsDisplayMenu=!t.actionsDisplayMenu}}},r=l,c=(a("efd8"),a("2877")),u=Object(c["a"])(r,o,n,!1,null,"1378cc12",null);u.options.__file="TPL-UserInfo.vue";e["a"]=u.exports},"5fe1":function(t,e,a){},"641a":function(t,e,a){},6665:function(t,e,a){"use strict";a.r(e);const o={badEmailProviders:[],required:[],fields:{},error:{msg:"",display:!1},isBot:!0,isWorkonomy:!0},n={updateFormState(t,e){t[e.state]=e.val}},s={},i={};e["default"]={state:o,mutations:n,actions:s,getters:i}},"723f":function(t,e,a){"use strict";var o=a("641a"),n=a.n(o);n.a},"7faf":function(t,e,a){"use strict";var o=a("8fba"),n=a.n(o);n.a},"86fa":function(t,e,a){},"8fba":function(t,e,a){},"9da6":function(t,e,a){"use strict";a.r(e);const o={oracleInit:!1},n={updateOracleState(t,e){t[e.state]=e.val}},s={},i={};e["default"]={state:o,mutations:n,actions:s,getters:i}},a18c:function(t,e,a){"use strict";a.r(e);var o=a("2b0e"),n=a("8c4f"),s=a("4360"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"draggable-area",attrs:{id:"FB-splashWrapper"}},[t._v("\n\tSplash\n")])},l=[],r=a("2f62"),c={name:"Splash",mounted(){const t=this;window.frameElement&&"IFRAME"===window.frameElement.nodeName?window.parent.postMessage({source:"atlas",ready:!0},"*"):t.launchPage(`/atlas/${t.initLander}`)},computed:Object(r["b"])({initLander:t=>t.app.initLander}),methods:{launchPage(t){const e=this;e.$router.push(t)}}},u=c,d=(a("f2ff"),a("2877")),p=Object(d["a"])(u,i,l,!1,null,"1fae4556",null);p.options.__file="Splash.vue";var m=p.exports;const g=()=>a.e("Chat").then(a.bind(null,"e6b0")),h=()=>a.e("Debug").then(a.bind(null,"8cb7")),f=()=>a.e("Form").then(a.bind(null,"8477"));o["a"].use(n["a"]);const b=new n["a"]({mode:"history",base:"/",routes:[{path:"/",redirect:"/atlas/"},{path:"/euf/assets/themes/standard/atlas/",redirect:"/atlas/"},{path:"/atlas/",name:"Splash",component:m},{path:"/atlas/Chat",name:"chat",component:g},{path:"/atlas/Debug",name:"debug",component:h},{path:"/atlas/Form",name:"form",component:f}]});b.beforeEach((t,e,a)=>{const o=t.matched.some(t=>t.meta.requiresAuth);o&&!s["a"].state.user.loggedIn?a("login"):a()});e["default"]=b},adfd:function(t,e,a){"use strict";var o=a("86fa"),n=a.n(o);n.a},cc02:function(t,e,a){},d307:function(t,e,a){var o={"./agent.js":"02c5","./app.js":"d9cd","./atlas.js":"05f6","./bot.js":"dafc","./conversation.js":"1cbe","./form.js":"6665","./human.js":"007f","./index.js":"2a74","./oracle.js":"9da6","./smooch.js":"f4e5","./socket.js":"f406","./tpl.js":"14c2","./user.js":"0f9a"};function n(t){var e=s(t);return a(e)}function s(t){var e=o[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}n.keys=function(){return Object.keys(o)},n.resolve=s,t.exports=n,n.id="d307"},d9cd:function(t,e,a){"use strict";a.r(e);const o={version:"1.0.0",platform:"web",debug:!0,connectionType:"smooch",smoochAppID:"",theme:"default",themeSize:"max",chatConnectionStatus:"disconnected",appScreenType:"atlasModel",showChatInterface:!0,hideButtonOnInterface:!0,initLander:"Chat",initAgentDisplay:"bot",userMsgPosition:"right",disable:[],allStates:[],requiresLogin:!1,loginFormURL:"",exitChatURL:"",exitPath:"",exitAction:"destroy",enableUpload:!1},n={loading(t,e){t.loading=e},updateAppState(t,e){t[e.state]=e.val},addDisableItem(t,e){-1===t.disable.indexOf(e.val)&&t.disable.push(e.val)},removeDisableItem(t,e){const a=t.disable.indexOf(e.val);-1!==a&&t.disable.splice(a,1)}},s={},i={whichPlatform:t=>t.platform,whichLandingPage:t=>t.initLander,getAllStateKeys:t=>t.allStates};e["default"]={state:o,mutations:n,actions:s,getters:i}},dafc:function(t,e,a){"use strict";a.r(e);const o={botName:"Kasper",botDescription:" a computerized agent to help you with your order.",botIco:"/atlas/static/custom/kasper@2x.png",disable:[]},n={updateBotState(t,e){t[e.state]=e.val}},s={},i={};e["default"]={state:o,mutations:n,actions:s,getters:i}},eb0a:function(t,e,a){},efd8:function(t,e,a){"use strict";var o=a("5fe1"),n=a.n(o);n.a},f2ff:function(t,e,a){"use strict";var o=a("eb0a"),n=a.n(o);n.a},f406:function(t,e,a){"use strict";a.r(e);var o=a("2b0e");const n={isConnected:!1,message:"",reconnectError:!1},s={SOCKET_ONOPEN(t,e){o["a"].prototype.$socket=e.currentTarget,t.isConnected=!0},SOCKET_ONCLOSE(t,e){t.isConnected=!1},SOCKET_ONERROR(t,e){console.error(t,e)},SOCKET_ONMESSAGE(t,e){t.message=e},SOCKET_RECONNECT(t,e){console.info(t,e)},SOCKET_RECONNECT_ERROR(t){t.reconnectError=!0}},i={sendMessage(t,e){}},l={};e["default"]={state:n,mutations:s,actions:i,getters:l}},f4e5:function(t,e,a){"use strict";a.r(e);a("ac6a");const o={smoochInit:!1,smoochUserID:""},n={updateSmoochState(t,e){t[e.state]=e.val},initSmooch(t,e){const o=this;if("undefined"!==typeof window.Bots){if("undefined"===typeof e.appId||""===e.appId)return console.error("Bot App ID Missing - Please add it."),void Promise.resolve().then(a.bind(null,"a18c")).then(t=>{t.default.push("/atlas/Debug")}).catch(t=>{console.error(t)});e.embedded=!0,window.Bots.init(e).then(()=>{t.smoochInit=!0,o.commit("updateAppState",{val:"connected",state:"chatConnectionStatus"}),o.commit("updateUser"),o.commit("setupMsgListeners"),o.commit("loadSmoochMsgs")}).catch(t=>{console.error(t)});const n=document.getElementById("smooch-wrapper");null!==n&&window.Bots.render(n)}else console.error("webSDK not defined")},addSmoochMsg(t,e){const a=this;a.commit("addMsg",{type:"smooch",val:e})},setupMsgListeners(t){const e=this;window.Bots.off(),window.Bots.on("message:sent",t=>{t.actionType="sent",e.commit("addSmoochMsg",t)}),window.Bots.on("message:received",t=>{if(e.getters.initialiseCarousel&&"carousel"===t.type){const e=t.items[0].actions[0]._id;window.Bots.triggerPostback(e)}t.actionType="received",e.commit("addSmoochMsg",t)})},sendSmoochMsg(t,e){"undefined"!==typeof window.Bots.sendMessage?window.Bots.sendMessage(e).then(()=>{}).catch(t=>{console.error(t)}):console.error("websdk not initialised")},loadSmoochMsgs(t){const e=this,a=window.Bots.getConversation();if(a.messages.length<=0){const t=e.getters.userTalkingTo,a=e.getters.initialBotMsg,o=e.getters.initialHumanMsg,n=e.getters.selectedHandOffObj,s=e.getters.userAssistMsg;"undefined"!==typeof n?(e.commit("sendSmoochMsg",n.initMsg),"undefined"!==typeof s&&s.length>0&&setTimeout(()=>{e.commit("sendSmoochMsg",s),e.commit("updateConvState",{val:"",state:"assistMsg"})},2e3)):""!==a&&"bot"===t?e.commit("sendSmoochMsg",a):""!==o&&"human"===t&&e.commit("addMsg",{text:o,type:"text",role:"appUser"})}e.commit("updateConvState",{val:a.messages,state:"messages"}),setTimeout(()=>{let t=document.getElementById("FB-conversation");document.body.classList.contains("mobile")&&(t=document.getElementById("FB-scrollWrapper")),null!==t&&t.scrollTo(0,t.scrollHeight)},10)},updateUser(t,e){const a=this;"undefined"===typeof e&&(e=a.getters.userObj),window.Bots.updateUser(e),setTimeout(()=>{const e=window.Bots.getUser();t.smoochUserID="undefined"!==typeof e&&"undefined"!==typeof e._id?e._id:""},1e3)},logoutSmooch(t,e){window.Bots.logout()},removeEvents(t){"undefined"!==typeof window.Bots&&"undefined"!==typeof window.Bots.off&&window.Bots.off()},destroySmooch(t){const e=this;"undefined"!==typeof window.Bots&&"undefined"!==typeof window.Bots.destroy&&(window.Bots.destroy(),t.smoochInit=!1,e.commit("updateAppState",{val:"disconnected",state:"chatConnectionStatus"}))},clearSession(t){const e=this,a=Object.keys(localStorage);a.forEach(t=>{-1===e.getters.getAllStateKeys.indexOf(t)&&localStorage.removeItem(t)})},upload(){}},s={},i={};e["default"]={state:o,mutations:n,actions:s,getters:i}},f664:function(t,e,a){}});