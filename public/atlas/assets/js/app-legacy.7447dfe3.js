(function(t){function e(e){for(var o,a,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)a=r[u],i[a]&&d.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},a={app:0},i={app:0},s=[];function r(t){return c.p+"atlas/assets/js/"+({Chat:"Chat",Debug:"Debug",Form:"Form"}[t]||t)+"-legacy."+{Chat:"18921f41",Debug:"702ca58a",Form:"ed83db29"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={Chat:1,Debug:1,Form:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise(function(e,n){for(var o="atlas/assets/css/"+({Chat:"Chat",Debug:"Debug",Form:"Form"}[t]||t)+"."+{Chat:"a3d81431",Debug:"af918e28",Form:"56a20c81"}[t]+".css",i=c.p+o,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var l=s[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===i))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===o||u===i)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var o=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");s.request=o,delete a[t],p.parentNode.removeChild(p),n(s)},p.href=i;var m=document.getElementsByTagName("head")[0];m.appendChild(p)}).then(function(){a[t]=0}));var o=i[t];if(0!==o)if(o)e.push(o[2]);else{var s=new Promise(function(e,n){o=i[t]=[e,n]});e.push(o[2]=s);var l,u=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=r(t),l=function(e){d.onerror=d.onload=null,clearTimeout(p);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src,s=new Error("Loading chunk "+t+" failed.\n("+o+": "+a+")");s.type=o,s.request=a,n[1](s)}i[t]=void 0}};var p=setTimeout(function(){l({type:"timeout",target:d})},12e4);d.onerror=d.onload=l,u.appendChild(d)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"007f":function(t,e,n){"use strict";n.r(e);var o={humanName:"Human Agent Support",humanDescription:" I'm here to help you.",humanIco:"/atlas/static/custom/agent@2x.png",disable:[]},a={updateHumanState:function(t,e){t[e.state]=e.val}},i={},s={};e["default"]={state:o,mutations:a,actions:i,getters:s}},"02c5":function(t,e,n){"use strict";n.r(e);var o={agentName:"",agentDescription:"",agentIco:"",disable:[]},a={updateAgentState:function(t,e){t[e.state]=e.val}},i={},s={};e["default"]={state:o,mutations:a,actions:i,getters:s}},"05f6":function(t,e,n){"use strict";n.r(e);var o={atlasInit:!1},a={updateAtlasState:function(t,e){t[e.state]=e.val}},i={},s={};e["default"]={state:o,mutations:a,actions:i,getters:s}},"0f9a":function(t,e,n){"use strict";n.r(e);var o={givenName:"Anonymous",surname:"User",email:"noemail@domain.com",properties:{}},a={updateUserState:function(t,e){t[e.state]=e.val}},i={},s={userObj:function(t){return t}};e["default"]={state:o,mutations:a,actions:i,getters:s}},"14c2":function(t,e,n){"use strict";n.r(e);var o={appBackground:"#f0f3f6",contentBackground:"#fff",showHeader:!0,showSubHeader:!1,showUserInfo:!0,showFooter:!0,actionsLocation:"header",userInfoDisplay:"inline",headerLogoPath:"/atlas/static/custom/logo.svg",headerColor:"rgb(34, 47, 61)",initButtonColour:"#CE0000",buttonPosition:"bottomRight",buttonIcon:"robot",enableNotification:!0,enablePrint:!0,enableDownloadLog:!0,enableAgentSwap:!0,enableEndChat:!0,chatFieldPlaceholderMsg:"type a msg...",chatSubmitButtonTxt:"Submit",chatMsgTransition:"fade",disable:[]},a={updateTplState:function(t,e){t[e.state]=e.val}},i={},s={};e["default"]={state:o,mutations:a,actions:i,getters:s}},"1a10":function(t,e,n){"use strict";var o=n("f664"),a=n.n(o);a.a},"1cbe":function(t,e,n){"use strict";n.r(e);var o={infoMessage:"",loadedMsgs:!0,messages:[],messageTyping:[],messageDelay:1e3,showTimeOnMsg:!0,displayTimeAs:"fromNow",enableMarkdown:!0,showChatUserIco:!0,connectToLiveAgentMsg:"Agent chat session established, Waiting for agent to join.",liveAgentConnectionMsg:"Transfering to a live agent",enableTransferWaitingAnimation:!0,connectedToLiveAgentMsg:["Thank you for choosing Costco! My name is"],connectedToVirtualAgentMsg:["Connecting you back to the Bot.."],talkingTo:"bot",initBotMsg:"hello bot",initHumanMsg:"",quitChat:"The user has exited the chat",hideMsgs:["hello bot","The user has exited the chat","Agent chat session established, Waiting for agent to join.","Connecting you back to the Bot.."],hideCards:["carousel"],autoInitiateCarousel:!0,assistMsg:"",msgToHuman:"I'd love to help - please let me gather some info and let me see if I can assist you before transferring you to a live agent.",msgToBot:"Connecting you back to the Bot..",selectedHandOff:"",handOff:[{name:"Order Inquiries",value:"1597",type:"bot",initMsg:"order inquiries"},{name:"Account Inquiries",value:"2084",type:"human",initMsg:"Account Inquiries"},{name:"Store Inquiries",value:"2085",type:"human",initMsg:"Store Inquiries"},{name:"Product Information",value:"1598",type:"human",initMsg:"Product Information"},{name:"Returns/Exchanges",value:"1599",type:"bot",initMsg:"Returns/Exchanges"},{name:"Coupon Promotions",value:"1600",type:"human",initMsg:"Coupon Promotions"},{name:"Online Printing",value:"1601",type:"human",initMsg:"Online Printing"},{name:"Password Login",value:"1602",type:"human",initMsg:"Password Login"},{name:"Website Errors",value:"1603",type:"human",initMsg:"Website Errors"},{name:"Office Depot Rewards",value:"1604",type:"human",initMsg:"Office Depot Rewards"},{name:"Other",value:"1605",type:"human",initMsg:"Other"}]},a={updateConvState:function(t,e){t[e.state]=e.val},showMsg:function(t){var e=this;e.loading=!1,setTimeout(function(){e.vis=!0},100)},addMsg:function(t,e){var n=this;"appMaker"===e.val.role&&(e.val.hidden=!0,e.val.typing=!0,t.messageTyping.push(e.val)),t.messages.push(e.val),setTimeout(function(){n.commit("unhideMsg",{obj:e.val}),setTimeout(function(){var t=document.getElementById("FB-conversation");document.body.classList.contains("mobile")&&(t=document.getElementById("FB-scrollWrapper")),null!==t&&t.scrollTo(0,t.scrollHeight)},10)},t.messageDelay*t.messageTyping.length)},unhideMsg:function(t,e){var n=this,o=t.messages.indexOf(e.obj);-1!==o&&(t.messages[o].hidden=!1);var a=t.messageTyping.indexOf(e.obj);-1!==a&&(t.messageTyping[a].hidden=!1),setTimeout(function(){n.commit("finishTyping",{obj:t.messages[o]})},1e3),setTimeout(function(){var t=document.getElementById("FB-conversation");document.body.classList.contains("mobile")&&(t=document.getElementById("FB-scrollWrapper")),null!==t&&t.scrollTo(0,t.scrollHeight)},10)},finishTyping:function(t,e){var n=t.messages.indexOf(e.obj);-1!==n&&(t.messages[n].typing=!1);var o=t.messageTyping.indexOf(e.obj);-1!==o&&t.messageTyping.splice(o,1),setTimeout(function(){var t=document.getElementById("FB-conversation");document.body.classList.contains("mobile")&&(t=document.getElementById("FB-scrollWrapper")),null!==t&&t.scrollTo(0,t.scrollHeight)},400)}},i={},s={userTalkingTo:function(t){return t.talkingTo},initialBotMsg:function(t){return t.initBotMsg},initialHumanMsg:function(t){return t.initHumanMsg},msgsLoaded:function(t){return t.loadingMsgs},selectedHandOffObj:function(t){return t.handOff[t.selectedHandOff]},handOffArr:function(t){return t.handOff},userAssistMsg:function(t){return t.assistMsg},initialiseCarousel:function(t){return t.autoInitiateCarousel}};e["default"]={state:o,mutations:a,actions:i,getters:s}},"23a5":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"button",class:{active:t.activeButton,small:t.isSmall,justifyLeft:"left"===t.alignContent},on:{click:t.toggleActive}},[t.loading?n("LoadingDots"):t._e(),t.iconClassName&&!t.loading?n("font-awesome-icon",{staticClass:"buttonIco",class:{hastxt:t.buttonTxt},attrs:{icon:t.iconClassName}}):t._e(),t.buttonTxt?n("span",{staticClass:"buttonTxt",style:{textAlign:t.textAlign}},[t.loading?t._e():n("span",{staticClass:"buttonHeader"},[t._v(t._s(t.buttonTxt))]),!t.loading&&t.buttonSubTxt?n("span",{staticClass:"buttonSubHeader"},[t._v(t._s(t.buttonSubTxt))]):t._e()]):t._e(),t.customIco?n("div",{staticClass:"customIco"}):t._e(),t.lineThrough?n("div",{staticClass:"line"}):t._e()],1)},a=[],i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swal-button__loader"},[n("div"),n("div"),n("div")])}],r={name:"LoadingDots"},c=r,l=(n("adfd"),n("2877")),u=Object(l["a"])(c,i,s,!1,null,"a1f7f2d6",null);u.options.__file="LoadingDots.vue";var d=u.exports,p={name:"ButtonWidget",props:{buttonTxt:{type:String,default:""},buttonSubTxt:{type:String,default:""},iconClassName:{type:String,default:""},textAlign:{type:String,default:"left"},alignContent:{type:String,default:""},isSmall:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},customIco:{type:String,default:""},lineThrough:{type:Boolean,default:!1}},components:{LoadingDots:d},data:function(){return{activeButton:!1}},methods:{toggleActive:function(){var t=this;t.activeButton=!t.activeButton}}},m=p,f=(n("38c9"),Object(l["a"])(m,o,a,!1,null,"0908913a",null));f.options.__file="ButtonWidget.vue";e["a"]=f.exports},"2a74":function(t,e,n){"use strict";n.r(e);n("a481"),n("ac6a"),n("cadf"),n("551c"),n("097d");var o=n("d307"),a={};o.keys().forEach(function(t){"./index.js"!==t&&(a[t.replace(/(\.\/|\.js)/g,"")]=o(t).default)}),e["default"]=a},"38c9":function(t,e,n){"use strict";var o=n("cc02"),a=n.n(o);a.a},4360:function(t,e,n){"use strict";n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=n("2f62"),i=n("2a74");o["a"].use(a["a"]),e["a"]=new a["a"].Store({modules:i["default"]})},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),a=n("ecee"),i=n("c074"),s=n("ad3d"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.theme,t.appScreenType,t.themeSize,t.platform],attrs:{id:"FB-atlas"}},[n("div",{class:[{hasFixedUserInfo:t.showUserInfo&&"fixed"===t.userInfoDisplay,show:t.showChatInterface,hasHeader:t.showHeader,hasSubHeader:t.showSubHeader,hasFooter:t.showFooter,hasUserInfo:t.showUserInfo&&"fixed"===t.userInfoDisplay},t.buttonPosition],style:{backgroundColor:t.appBackground},attrs:{id:"FB-interface"}},[t.showHeader?n("Header"):t._e(),t.showUserInfo&&"fixed"===t.userInfoDisplay?n("UserInfo",{staticClass:"fixed"}):t._e(),n("main",{class:[t.userInfoDisplay],style:{backgroundColor:t.contentBackground}},[n("router-view")],1)],1),!t.hideButtonOnInterface!==t.showChatInterface&&t.hideButtonOnInterface?t._e():n("InitButton",{nativeOn:{click:function(e){return t.displayInterface(e)}}}),"smooch"===t.connectionType?n("div",{ref:"smooch",staticStyle:{display:"none"},attrs:{id:"smooch-wrapper"}}):t._e()],1)},c=[],l=n("2909"),u=(n("ffc1"),n("ac6a"),n("2f62")),d=n("5b35"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.buttonPosition,style:{background:t.initButtonColour},attrs:{id:"FB-initAtlas"}},[n("font-awesome-icon",{attrs:{id:"FB-initButton",icon:t.buttonIcon}})],1)},m=[],f={name:"TPL-InitButton",computed:Object(u["b"])({initButtonColour:function(t){return t.tpl.initButtonColour},buttonPosition:function(t){return t.tpl.buttonPosition},buttonIcon:function(t){return t.tpl.buttonIcon}})},g=f,h=(n("1a10"),n("2877")),b=Object(h["a"])(g,p,m,!1,null,"2083c5e6",null);b.options.__file="TPL-InitButton.vue";var v=b.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{style:{backgroundColor:t.headerColor}},[n("a",{attrs:{id:"FB-log",href:"#"}}),n("div",{attrs:{id:"FB-logoContainer"}},[n("div",{style:"background-image: url("+t.headerLogoPath+");",attrs:{id:"FB-logo"}})]),(t.enableDownloadLog||t.enablePrint||t.enableNotification)&&"form"!==t.$route.name&&"header"===t.actionsLocation?n("nav",{attrs:{id:"FB-optionsPanel"}},[n("ul",[t.enableDownloadLog?n("li",[n("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"download"},nativeOn:{click:function(e){return t.downloadLog(e)}}})],1):t._e(),t.enablePrint?n("li",[n("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"print"},nativeOn:{click:function(e){return t.print(e)}}})],1):t._e(),t.enableNotification?n("li",[n("Button",t._b({staticClass:"semiTransparent",class:{disabled:!t.enableNotificationIco},attrs:{iconClassName:"bell"},nativeOn:{click:function(e){return t.toggleNotification(e)}}},"Button",{lineThrough:!t.enableNotificationIco},!1))],1):t._e()])]):t._e(),t.enableEndChat?n("nav",{attrs:{id:"FB-optionsPanel"}},[n("ul",[n("li",[n("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"times"},nativeOn:{click:function(e){return t.exit(e)}}})],1)])]):t._e(),"form"!==t.$route.name&&t.enableAgentSwap?n("nav",{attrs:{id:"FB-chatOptionsMenu"}},[n("ul",[n("li",{staticStyle:{padding:"0px 8px"}},[n("nav",{attrs:{id:"FB-agentActions"}},[n("Button",{staticClass:"semiTransparent",staticStyle:{"margin-right":"4px"},attrs:{alignContent:"left",iconClassName:"robot",buttonTxt:t.botName,buttonSubTxt:"Agent"}}),n("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"ellipsis-v"}})],1),n("ul",{class:{collapsed:!t.enableAgentSwap},style:{backgroundColor:t.headerColor}},[n("li",[n("Button",{staticClass:"semiTransparent",staticStyle:{width:"100%"},attrs:{alignContent:"left",iconClassName:"user-tie",buttonTxt:"Chat with",buttonSubTxt:"Live Agent"}})],1),n("li",[n("Button",{staticClass:"semiTransparent",staticStyle:{width:"100%"},attrs:{alignContent:"left",iconClassName:"headset",buttonTxt:"Request",buttonSubTxt:"Callback"}})],1),n("li",[n("Button",{staticClass:"semiTransparent",staticStyle:{width:"100%"},attrs:{alignContent:"left",iconClassName:"star-half-alt",buttonTxt:"Feedback",buttonSubTxt:"Review"}})],1)])])])]):t._e(),t.debug||"debug"===t.$route.name?n("nav",{attrs:{id:"FB-debug"}},[n("ul",[n("li",[n("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"debug"===t.$route.name?"comments":"cog"},nativeOn:{click:function(e){return t.showSettings(e)}}})],1)])]):t._e(),"atlasModel"!==t.appScreenType||t.enableEndChat?t._e():n("nav",{attrs:{id:"FB-debug"}},[n("ul",[n("li",[n("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"times"},nativeOn:{click:function(e){return t.closeModel(e)}}})],1)])])])},w=[],I=(n("7f7f"),n("23a5")),y=n("5118"),T={name:"TPL-Header",components:{Button:I["a"]},data:function(){return{enableNotificationIco:!0}},computed:Object(u["b"])({headerLogoPath:function(t){return t.tpl.headerLogoPath},smoochAppID:function(t){return t.app.smoochAppID},headerColor:function(t){return t.tpl.headerColor},enableNotification:function(t){return t.tpl.enableNotification},enablePrint:function(t){return t.tpl.enablePrint},enableDownloadLog:function(t){return t.tpl.enableDownloadLog},enableAgentSwap:function(t){return t.tpl.enableAgentSwap},enableEndChat:function(t){return t.tpl.enableEndChat},botName:function(t){return t.bot.botName},debug:function(t){return t.app.debug},appScreenType:function(t){return t.app.appScreenType},actionsLocation:function(t){return t.tpl.actionsLocation},exitChatURL:function(t){return t.app.exitChatURL},exitPath:function(t){return t.app.exitPath},exitAction:function(t){return t.app.exitAction}}),methods:{showSettings:function(){var t=this;"debug"===t.$route.name?t.$router.push("/atlas"):t.$router.push("/atlas/Debug")},closeModel:function(){var t=this;t.$store.commit("updateAppState",{val:!1,state:"showChatInterface"})},toggleNotification:function(){var t=this,e={appId:t.smoochAppID};t.enableNotificationIco=!t.enableNotificationIco,t.enableNotificationIco||(e.soundNotificationEnabled=!1),t.$store.commit("destroySmooch"),t.$store.commit("initSmooch",e)},print:function(){window.print()},downloadLog:function(){var t=[],e=document.querySelectorAll("#FB-atlas dl");e.forEach(function(e){var n=e.querySelectorAll("dt")[0].outerText,o=e.querySelectorAll("dd")[0].outerText;t.push([n,o])});var n="data:text/csv;charset=utf-8,";t.forEach(function(t){var e=t.join(",");n+="".concat(e," ")});var o=encodeURI(n),a=document.getElementById("FB-log");a.setAttribute("href",o),a.setAttribute("download","chatLog.csv"),a.click()},exit:function(){var t=this;""!==t.exitChatURL?window.location=t.exitChatURL:""!==t.exitPath?t.$router.push(t.exitPath):""!==t.exitAction?("hide"===t.exitAction&&t.$store.commit("updateAppState",{val:!1,state:"showChatInterface"}),"destroy"===t.exitAction&&(document.getElementById("FB-interface").remove(),t.$store.commit("sendSmoochMsg",t.quitChat),Object(y["setTimeout"])(function(){t.$store.commit("logoutSmooch"),t.$store.commit("destroySmooch"),t.$store.commit("clearSession")},500))):console.error("no exit path or action defined!")}}},C=T,B=(n("723f"),Object(h["a"])(C,S,w,!1,null,"50b67b25",null));B.options.__file="TPL-Header.vue";var x=B.exports,A={name:"Atlas",components:{Header:x,UserInfo:d["a"],InitButton:v},data:function(){return{resizeTimer:null}},created:function(){var t=this;window.addEventListener("beforeunload",function(e){e.preventDefault(),t.commit("sendSmoochMsg",t.quitChat)});var e=[];Object.entries(t.$store.state).forEach(function(t){Object.entries(t[1]).forEach(function(t){var n=t[0];-1===e.indexOf(n)&&e.push(n)})}),this.$store.commit("updateAppState",{val:e,state:"allStates"}),document.addEventListener("displayInterface",function(e){t.displayInterface()}),t.getWindowWidth(),window.addEventListener("resize",t.getWindowWidth),localStorage.getItem("chatChannel")!==localStorage.getItem("prevChatChannel")&&t.clearChat(),localStorage.setItem("prevChatChannel",localStorage.getItem("chatChannel")),t.updateConfig(),"smooch"===t.connectionType&&function(t,e,n,o){function a(){try{var n;if((n="string"===typeof this.response?JSON.parse(this.response):this.response).url){var o=e.getElementsByTagName("script")[0],a=e.createElement("script");a.async=!0,a.src=n.url,o.parentNode.insertBefore(a,o)}}catch(t){}}var i,s,r,c=[],u=[];t[n]={init:function(){i=arguments;var t={then:function(e){return u.push({type:"t",next:e}),t},catch:function(e){return u.push({type:"c",next:e}),t}};return t},on:function(){c.push(arguments)},render:function(){s=arguments},destroy:function(){r=arguments}},t.__onWebMessengerHostReady__=function(e){if(delete t.__onWebMessengerHostReady__,t[n]=e,i)for(var o=e.init.apply(e,Object(l["a"])(i)),a=0;a<u.length;a++){var d=u[a];o="t"===d.type?o.then(d.next):o.catch(d.next)}for(s&&e.render.apply(e,Object(l["a"])(s)),r&&e.destroy.apply(e,Object(l["a"])(r)),a=0;a<c.length;a++)e.on.apply(e,Object(l["a"])(c[a]))};var d=new XMLHttpRequest;d.addEventListener("load",a),d.open("GET",o+"/loader.json",!0),d.responseType="json",d.send()}(window,document,"Bots","/atlas/static/botsdk"),window.addEventListener("message",t.captureMsg,!1)},mounted:function(){var t=1===this.$route.params.bot;this.$store.commit("updateFormState",{state:"isBot",val:t});var e=1===this.$route.params.bot;this.$store.commit("updateFormState",{state:"isWorkonomy",val:e}),window.frameElement&&window.frameElement.nodeName},computed:Object(u["b"])({appBackground:function(t){return t.tpl.appBackground},contentBackground:function(t){return t.tpl.contentBackground},showHeader:function(t){return t.tpl.showHeader},showSubHeader:function(t){return t.tpl.showSubHeader},showUserInfo:function(t){return t.tpl.showUserInfo},showFooter:function(t){return t.tpl.showFooter},userInfoDisplay:function(t){return t.tpl.userInfoDisplay},platform:function(t){return t.app.platform},allStates:function(t){return t.app.allStates},theme:function(t){return t.app.theme},themeSize:function(t){return t.app.themeSize},appScreenType:function(t){return t.app.appScreenType},showChatInterface:function(t){return t.app.showChatInterface},hideButtonOnInterface:function(t){return t.app.hideButtonOnInterface},connectionType:function(t){return t.app.connectionType},disableApp:function(t){return t.app.disable},disableTpl:function(t){return t.tpl.disable},disableBot:function(t){return t.bot.disable},buttonPosition:function(t){return t.tpl.buttonPosition},quitChat:function(t){return t.conversation.quitChat},initLander:function(t){return t.app.initLander},isBot:function(t){return t.form.isBot}}),methods:{updateConfig:function(){var t=this,e=this;if("undefined"!==typeof window.Atlas&&"undefined"!==typeof window.Atlas.config){var n=[],o=[],a=[],i=[],s=[],r=[];if(window.Atlas.config.app){var c=Object.entries(window.Atlas.config.app);c.forEach(function(e){t.$store.commit("updateAppState",{val:e[1],state:e[0]}),n.push(e[0])})}if(window.Atlas.config.tpl){var l=Object.entries(window.Atlas.config.tpl);l.forEach(function(e){t.$store.commit("updateTplState",{val:e[1],state:e[0]}),o.push(e[0])})}if(window.Atlas.config.bot){var u=Object.entries(window.Atlas.config.bot);u.forEach(function(e){t.$store.commit("updateBotState",{val:e[1],state:e[0]}),a.push(e[0])})}if(window.Atlas.config.conversation){var d=Object.entries(window.Atlas.config.conversation);d.forEach(function(e){t.$store.commit("updateConvState",{val:e[1],state:e[0]}),i.push(e[0])})}if(window.Atlas.config.form){var p=Object.entries(window.Atlas.config.liveForm);p.forEach(function(e){t.$store.commit("updateFormState",{val:e[1],state:e[0]}),s.push(e[0])})}if(window.Atlas.config.user){var m=Object.entries(window.Atlas.config.user);m.forEach(function(e){t.$store.commit("updateUserState",{val:e[1],state:e[0]}),r.push(e[0])})}this.$store.commit("updateAppState",{val:n,state:"disable"}),this.$store.commit("updateTplState",{val:o,state:"disable"}),this.$store.commit("updateBotState",{val:a,state:"disable"}),this.$store.commit("updateConvState",{val:i,state:"disable"}),this.$store.commit("updateFormState",{val:i,state:"disable"}),this.$store.commit("updateUserState",{val:r,state:"disable"})}-1===e.disableApp.indexOf("debug")&&null!==localStorage.getItem("debug")&&this.$store.commit("updateAppState",{val:"true"===String(localStorage.getItem("debug")),state:"debug"}),-1===e.disableApp.indexOf("connectionType")&&null!==localStorage.getItem("connectionType")&&this.$store.commit("updateAppState",{val:localStorage.getItem("connectionType"),state:"connectionType"}),-1===e.disableApp.indexOf("smoochAppID")&&null!==localStorage.getItem("smoochAppID")&&this.$store.commit("updateAppState",{val:localStorage.getItem("smoochAppID"),state:"smoochAppID"}),-1===e.disableApp.indexOf("theme")&&null!==localStorage.getItem("theme")&&this.$store.commit("updateAppState",{val:localStorage.getItem("theme"),state:"theme"}),-1===e.disableApp.indexOf("themeSize")&&null!==localStorage.getItem("themeSize")&&this.$store.commit("updateAppState",{val:localStorage.getItem("themeSize"),state:"themeSize"}),-1===e.disableApp.indexOf("appScreenType")&&null!==localStorage.getItem("appScreenType")&&this.$store.commit("updateAppState",{val:localStorage.getItem("appScreenType"),state:"appScreenType"}),-1===e.disableApp.indexOf("showChatInterface")&&null!==localStorage.getItem("showChatInterface")&&this.$store.commit("updateAppState",{val:"true"===String(localStorage.getItem("showChatInterface")),state:"showChatInterface"}),-1===e.disableApp.indexOf("hideButtonOnInterface")&&null!==localStorage.getItem("hideButtonOnInterface")&&this.$store.commit("updateAppState",{val:"true"===String(localStorage.getItem("hideButtonOnInterface")),state:"hideButtonOnInterface"}),-1===e.disableApp.indexOf("initLander")&&null!==localStorage.getItem("initLander")&&this.$store.commit("updateAppState",{val:localStorage.getItem("initLander"),state:"initLander"}),-1===e.disableTpl.indexOf("appBackground")&&null!==localStorage.getItem("appBackground")&&this.$store.commit("updateTplState",{val:localStorage.getItem("appBackground"),state:"appBackground"}),-1===e.disableTpl.indexOf("contentBackground")&&null!==localStorage.getItem("contentBackground")&&this.$store.commit("updateTplState",{val:localStorage.getItem("contentBackground"),state:"contentBackground"}),-1===e.disableTpl.indexOf("showHeader")&&null!==localStorage.getItem("showHeader")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("showHeader")),state:"showHeader"}),-1===e.disableTpl.indexOf("showSubHeader")&&null!==localStorage.getItem("showSubHeader")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("showSubHeader")),state:"showSubHeader"}),-1===e.disableTpl.indexOf("showUserInfo")&&null!==localStorage.getItem("showUserInfo")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("showUserInfo")),state:"showUserInfo"}),-1===e.disableTpl.indexOf("showFooter")&&null!==localStorage.getItem("showFooter")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("showFooter")),state:"showFooter"}),-1===e.disableTpl.indexOf("userInfoDisplay")&&null!==localStorage.getItem("userInfoDisplay")&&this.$store.commit("updateTplState",{val:localStorage.getItem("userInfoDisplay"),state:"userInfoDisplay"}),-1===e.disableTpl.indexOf("headerLogoPath")&&null!==localStorage.getItem("headerLogoPath")&&this.$store.commit("updateTplState",{val:localStorage.getItem("headerLogoPath"),state:"headerLogoPath"}),-1===e.disableTpl.indexOf("headerColor")&&null!==localStorage.getItem("headerColor")&&this.$store.commit("updateTplState",{val:localStorage.getItem("headerColor"),state:"headerColor"}),-1===e.disableTpl.indexOf("initButtonColour")&&null!==localStorage.getItem("initButtonColour")&&this.$store.commit("updateTplState",{val:localStorage.getItem("initButtonColour"),state:"initButtonColour"}),-1===e.disableTpl.indexOf("buttonPosition")&&null!==localStorage.getItem("buttonPosition")&&this.$store.commit("updateTplState",{val:localStorage.getItem("buttonPosition"),state:"buttonPosition"}),-1===e.disableTpl.indexOf("buttonIcon")&&null!==localStorage.getItem("buttonIcon")&&this.$store.commit("updateTplState",{val:localStorage.getItem("buttonIcon"),state:"buttonIcon"}),-1===e.disableTpl.indexOf("enableNotification")&&null!==localStorage.getItem("enableNotification")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("enableNotification")),state:"enableNotification"}),-1===e.disableTpl.indexOf("enablePrint")&&null!==localStorage.getItem("enablePrint")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("enablePrint")),state:"enablePrint"}),-1===e.disableTpl.indexOf("enableDownloadLog")&&null!==localStorage.getItem("enableDownloadLog")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("enableDownloadLog")),state:"enableDownloadLog"}),-1===e.disableTpl.indexOf("enableAgentSwap")&&null!==localStorage.getItem("enableAgentSwap")&&this.$store.commit("updateTplState",{val:"true"===String(localStorage.getItem("enableAgentSwap")),state:"enableAgentSwap"}),-1===e.disableTpl.indexOf("chatFieldPlaceholderMsg")&&null!==localStorage.getItem("chatFieldPlaceholderMsg")&&this.$store.commit("updateTplState",{val:localStorage.getItem("chatFieldPlaceholderMsg"),state:"chatFieldPlaceholderMsg"}),-1===e.disableTpl.indexOf("chatSubmitButtonTxt")&&null!==localStorage.getItem("chatSubmitButtonTxt")&&this.$store.commit("updateTplState",{val:localStorage.getItem("chatSubmitButtonTxt"),state:"chatSubmitButtonTxt"}),-1===e.disableTpl.indexOf("chatMsgTransition")&&null!==localStorage.getItem("chatMsgTransition")&&this.$store.commit("updateTplState",{val:localStorage.getItem("chatMsgTransition"),state:"chatMsgTransition"}),-1===e.disableBot.indexOf("botName")&&null!==localStorage.getItem("botName")&&this.$store.commit("updateTplState",{val:localStorage.getItem("botName"),state:"botName"}),-1===e.disableBot.indexOf("botDescription")&&null!==localStorage.getItem("botDescription")&&this.$store.commit("updateTplState",{val:localStorage.getItem("botDescription"),state:"botDescription"}),-1===e.disableBot.indexOf("botIco")&&null!==localStorage.getItem("botIco")&&this.$store.commit("updateTplState",{val:localStorage.getItem("botIco"),state:"botIco"})},displayInterface:function(){var t=this;t.$store.commit("updateAppState",{val:!t.showChatInterface,state:"showChatInterface"})},captureMsg:function(t){var e=this;if(window.parent,"undefined"!==typeof t.data&&"updateAtlas"===t.data.source){if(t.data.config&&(window.Atlas.config=t.data.config,e.updateConfig()),t.data.login){e.$store.commit("updateUserState",{val:t.data.config.firstName,state:"givenName"}),e.$store.commit("updateUserState",{val:t.data.config.lastName,state:"surname"}),e.$store.commit("updateUserState",{val:t.data.config.email,state:"email"});var n={};Object.entries(t.data.fields).forEach(function(t){n[t[0]]=t[1].val}),e.$store.commit("updateUserState",{val:n,state:"properties"})}t.data.init&&Object(y["setTimeout"])(function(){e.$router.push(e.initLander)},500)}},clearChat:function(t){var e=this;e.$store.commit("clearSession")},getWindowWidth:function(){var t=this;clearTimeout(t.resizeTimer),t.resizeTimer=Object(y["setTimeout"])(function(){window.innerWidth<520?"mobile"!==t.platform&&(localStorage.setItem("appScreenTypePrev",t.appScreenType),t.$store.commit("updateAppState",{val:"atlasFull",state:"appScreenType"}),t.$store.commit("updateAppState",{val:"mobile",state:"platform"})):"mobile"===t.platform&&(t.$store.commit("updateAppState",{val:localStorage.getItem("appScreenTypePrev"),state:"appScreenType"}),t.$store.commit("updateAppState",{val:"web",state:"platform"})),Object(y["setTimeout"])(function(){var e=document.getElementById("FB-conversation");"mobile"!==t.platform&&"atlasFull"!==t.appScreenType||(e=document.getElementById("FB-scrollWrapper")),null!==e&&e.scrollTo(0,e.scrollHeight)},10)},250)}}},O=A,$=(n("7faf"),Object(h["a"])(O,r,c,!1,null,null,null));$.options.__file="App.vue";var E=$.exports,N=n("a18c"),M=n("4360");a["c"].add(i["d"],i["h"],i["a"],i["i"],i["e"],i["m"],i["n"],i["f"],i["k"],i["b"],i["l"],i["c"],i["j"],i["g"]),o["a"].component("font-awesome-icon",s["a"]),o["a"].config.productionTip=!1,new o["a"]({router:N["default"],store:M["a"],render:function(t){return t(E)}}).$mount("#FB-atlas")},"5b35":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[(t.enableDownloadLog||t.enablePrint||t.enableNotification)&&"form"!==t.$route.name&&"chat"===t.actionsLocation?n("nav",{attrs:{id:"FB-optionsPanel"}},[n("ul",{class:{active:t.actionsDisplayMenu}},[n("li",[n("Button",{staticClass:"semiTransparent",attrs:{id:"FB-actionsMenu",iconClassName:"sliders-h"},nativeOn:{click:function(e){return t.toggleActionsDisplay(e)}}}),n("ul",[t.enableDownloadLog?n("li",[n("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"download"},nativeOn:{click:function(e){return t.downloadLog(e)}}})],1):t._e(),t.enablePrint?n("li",[n("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"print"},nativeOn:{click:function(e){return t.print(e)}}})],1):t._e(),t.enableNotification?n("li",[n("Button",t._b({staticClass:"semiTransparent",class:{disabled:!t.enableNotificationIco},attrs:{iconClassName:"bell"},nativeOn:{click:function(e){return t.toggleNotification(e)}}},"Button",{lineThrough:!t.enableNotificationIco},!1))],1):t._e()])],1)]),n("ul",[t.enableEndChat?n("li",[n("Button",{staticClass:"semiTransparent",attrs:{iconClassName:"times"},nativeOn:{click:function(e){return t.exit(e)}}})],1):t._e()])]):t._e(),""!==t.agentIco?n("div",[n("img",{attrs:{id:"FB-botIco",src:t.agentIco}})]):t._e(),""!==t.agentName?n("div",{staticStyle:{flex:"1","padding-right":"100px"}},[n("h4",[t._v("\n\t\t\t"+t._s(t.agentName)+"\n\t\t\t"),n("span",[t._v(t._s(t.agentDescription))])])]):t._e()])},a=[],i=(n("ac6a"),n("2f62")),s=n("23a5"),r={name:"TPL-UserInfo",components:{Button:s["a"]},data:function(){return{enableNotificationIco:!0,actionsDisplayMenu:!1}},created:function(){var t=this;"bot"===t.initAgentDisplay?(this.$store.commit("updateAgentState",{val:t.botIco,state:"agentIco"}),this.$store.commit("updateAgentState",{val:t.botDescription,state:"agentDescription"}),this.$store.commit("updateAgentState",{val:t.botName,state:"agentName"})):"human"===t.initAgentDisplay&&(this.$store.commit("updateAgentState",{val:t.humanIco,state:"agentIco"}),this.$store.commit("updateAgentState",{val:t.humanDescription,state:"agentDescription"}),this.$store.commit("updateAgentState",{val:t.humanName,state:"agentName"}))},computed:Object(i["b"])({agentName:function(t){return t.agent.agentName},agentDescription:function(t){return t.agent.agentDescription},agentIco:function(t){return t.agent.agentIco},botName:function(t){return t.bot.botName},botDescription:function(t){return t.bot.botDescription},botIco:function(t){return t.bot.botIco},humanName:function(t){return t.human.botName},humanDescription:function(t){return t.human.botDescription},humanIco:function(t){return t.human.botIco},smoochAppID:function(t){return t.app.smoochAppID},enableNotification:function(t){return t.tpl.enableNotification},enablePrint:function(t){return t.tpl.enablePrint},enableDownloadLog:function(t){return t.tpl.enableDownloadLog},enableEndChat:function(t){return t.tpl.enableEndChat},userInfoDisplay:function(t){return t.tpl.userInfoDisplay},exitChatURL:function(t){return t.app.exitChatURL},exitPath:function(t){return t.app.exitPath},exitAction:function(t){return t.app.exitAction},actionsLocation:function(t){return t.tpl.actionsLocation},initAgentDisplay:function(t){return t.app.initAgentDisplay}}),methods:{closeModel:function(){var t=this;t.$store.commit("updateAppState",{val:!1,state:"showChatInterface"})},toggleNotification:function(){var t=this,e={appId:t.smoochAppID};t.enableNotificationIco=!t.enableNotificationIco,t.enableNotificationIco||(e.soundNotificationEnabled=!1),t.$store.commit("destroySmooch"),t.$store.commit("initSmooch",e)},print:function(){window.print()},downloadLog:function(){var t=[],e=document.querySelectorAll("#FB-atlas dl");e.forEach(function(e){var n=e.querySelectorAll("dt")[0].outerText,o=e.querySelectorAll("dd")[0].outerText;t.push([n,o])});var n="data:text/csv;charset=utf-8,";t.forEach(function(t){var e=t.join(",");n+="".concat(e," ")});var o=encodeURI(n),a=document.getElementById("FB-log");a.setAttribute("href",o),a.setAttribute("download","chatLog.csv"),a.click()},exit:function(){var t=this;""!==t.exitChatURL?window.location=t.exitChatURL:""!==t.exitPath?t.$router.push(t.exitPath):""!==t.exitAction?("hide"===t.exitAction&&t.$store.commit("updateAppState",{val:!1,state:"showChatInterface"}),"destroy"===t.exitAction&&(document.getElementById("FB-interface").remove(),t.$store.commit("sendSmoochMsg",t.quitChat),setTimeout(function(){t.$store.commit("logoutSmooch"),t.$store.commit("destroySmooch"),t.$store.commit("clearSession")},500))):console.error("no exit path or action defined!")},toggleActionsDisplay:function(){var t=this;t.actionsDisplayMenu=!t.actionsDisplayMenu}}},c=r,l=(n("efd8"),n("2877")),u=Object(l["a"])(c,o,a,!1,null,"1378cc12",null);u.options.__file="TPL-UserInfo.vue";e["a"]=u.exports},"5fe1":function(t,e,n){},"641a":function(t,e,n){},6665:function(t,e,n){"use strict";n.r(e);var o={badEmailProviders:[],required:[],fields:{},error:{msg:"",display:!1},isBot:!0,isWorkonomy:!0},a={updateFormState:function(t,e){t[e.state]=e.val}},i={},s={};e["default"]={state:o,mutations:a,actions:i,getters:s}},"723f":function(t,e,n){"use strict";var o=n("641a"),a=n.n(o);a.a},"7faf":function(t,e,n){"use strict";var o=n("8fba"),a=n.n(o);a.a},"86fa":function(t,e,n){},"8fba":function(t,e,n){},"9da6":function(t,e,n){"use strict";n.r(e);var o={oracleInit:!1},a={updateOracleState:function(t,e){t[e.state]=e.val}},i={},s={};e["default"]={state:o,mutations:a,actions:i,getters:s}},a18c:function(t,e,n){"use strict";n.r(e);var o=n("2b0e"),a=n("8c4f"),i=n("4360"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"draggable-area",attrs:{id:"FB-splashWrapper"}},[t._v("\n\tSplash\n")])},r=[],c=(n("cadf"),n("551c"),n("097d"),n("2f62")),l={name:"Splash",mounted:function(){var t=this;window.frameElement&&"IFRAME"===window.frameElement.nodeName?window.parent.postMessage({source:"atlas",ready:!0},"*"):t.launchPage("/atlas/".concat(t.initLander))},computed:Object(c["b"])({initLander:function(t){return t.app.initLander}}),methods:{launchPage:function(t){var e=this;e.$router.push(t)}}},u=l,d=(n("f2ff"),n("2877")),p=Object(d["a"])(u,s,r,!1,null,"1fae4556",null);p.options.__file="Splash.vue";var m=p.exports,f=function(){return n.e("Chat").then(n.bind(null,"e6b0"))},g=function(){return n.e("Debug").then(n.bind(null,"8cb7"))},h=function(){return n.e("Form").then(n.bind(null,"8477"))};o["a"].use(a["a"]);var b=new a["a"]({mode:"history",base:"/",routes:[{path:"/",redirect:"/atlas/"},{path:"/euf/assets/themes/standard/atlas/",redirect:"/atlas/"},{path:"/atlas/",name:"Splash",component:m},{path:"/atlas/Chat",name:"chat",component:f},{path:"/atlas/Debug",name:"debug",component:g},{path:"/atlas/Form",name:"form",component:h}]});b.beforeEach(function(t,e,n){var o=t.matched.some(function(t){return t.meta.requiresAuth});o&&!i["a"].state.user.loggedIn?n("login"):n()});e["default"]=b},adfd:function(t,e,n){"use strict";var o=n("86fa"),a=n.n(o);a.a},cc02:function(t,e,n){},d307:function(t,e,n){var o={"./agent.js":"02c5","./app.js":"d9cd","./atlas.js":"05f6","./bot.js":"dafc","./conversation.js":"1cbe","./form.js":"6665","./human.js":"007f","./index.js":"2a74","./oracle.js":"9da6","./smooch.js":"f4e5","./socket.js":"f406","./tpl.js":"14c2","./user.js":"0f9a"};function a(t){var e=i(t);return n(e)}function i(t){var e=o[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}a.keys=function(){return Object.keys(o)},a.resolve=i,t.exports=a,a.id="d307"},d9cd:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o={version:"1.0.0",platform:"web",debug:!0,connectionType:"smooch",smoochAppID:"",theme:"default",themeSize:"max",chatConnectionStatus:"disconnected",appScreenType:"atlasModel",showChatInterface:!0,hideButtonOnInterface:!0,initLander:"Chat",initAgentDisplay:"bot",userMsgPosition:"right",disable:[],allStates:[],requiresLogin:!1,loginFormURL:"",exitChatURL:"",exitPath:"",exitAction:"destroy",enableUpload:!1},a={loading:function(t,e){t.loading=e},updateAppState:function(t,e){if(t[e.state]=e.val,window.frameElement&&"IFRAME"===window.frameElement.nodeName){var n=["showChatInterface"];if(n.indexOf(e.state)>=0){var o={source:"atlas"};o[e.state]=e.val,window.parent.postMessage(o,"*")}}},addDisableItem:function(t,e){-1===t.disable.indexOf(e.val)&&t.disable.push(e.val)},removeDisableItem:function(t,e){var n=t.disable.indexOf(e.val);-1!==n&&t.disable.splice(n,1)}},i={},s={whichPlatform:function(t){return t.platform},whichLandingPage:function(t){return t.initLander},getAllStateKeys:function(t){return t.allStates}};e["default"]={state:o,mutations:a,actions:i,getters:s}},dafc:function(t,e,n){"use strict";n.r(e);var o={botName:"Kasper",botDescription:" a computerized agent to help you with your order.",botIco:"/atlas/static/custom/kasper@2x.png",disable:[]},a={updateBotState:function(t,e){t[e.state]=e.val}},i={},s={};e["default"]={state:o,mutations:a,actions:i,getters:s}},eb0a:function(t,e,n){},efd8:function(t,e,n){"use strict";var o=n("5fe1"),a=n.n(o);a.a},f2ff:function(t,e,n){"use strict";var o=n("eb0a"),a=n.n(o);a.a},f406:function(t,e,n){"use strict";n.r(e);var o=n("2b0e"),a={isConnected:!1,message:"",reconnectError:!1},i={SOCKET_ONOPEN:function(t,e){o["a"].prototype.$socket=e.currentTarget,t.isConnected=!0},SOCKET_ONCLOSE:function(t,e){t.isConnected=!1},SOCKET_ONERROR:function(t,e){console.error(t,e)},SOCKET_ONMESSAGE:function(t,e){t.message=e},SOCKET_RECONNECT:function(t,e){console.info(t,e)},SOCKET_RECONNECT_ERROR:function(t){t.reconnectError=!0}},s={sendMessage:function(t,e){}},r={};e["default"]={state:a,mutations:i,actions:s,getters:r}},f4e5:function(t,e,n){"use strict";n.r(e);n("ac6a"),n("456d");var o={smoochInit:!1,smoochUserID:""},a={updateSmoochState:function(t,e){t[e.state]=e.val},initSmooch:function(t,e){var o=this;if("undefined"!==typeof window.Bots){if("undefined"===typeof e.appId||""===e.appId)return console.error("Bot App ID Missing - Please add it."),void Promise.resolve().then(n.bind(null,"a18c")).then(function(t){t.default.push("/atlas/Debug")}).catch(function(t){console.error(t)});e.embedded=!0,window.Bots.init(e).then(function(){t.smoochInit=!0,o.commit("updateAppState",{val:"connected",state:"chatConnectionStatus"}),o.commit("updateUser"),o.commit("setupMsgListeners"),o.commit("loadSmoochMsgs")}).catch(function(t){console.error(t)});var a=document.getElementById("smooch-wrapper");null!==a&&window.Bots.render(a)}else console.error("webSDK not defined")},addSmoochMsg:function(t,e){var n=this;n.commit("addMsg",{type:"smooch",val:e})},setupMsgListeners:function(t){var e=this;window.Bots.off(),window.Bots.on("message:sent",function(t){t.actionType="sent",e.commit("addSmoochMsg",t)}),window.Bots.on("message:received",function(t){if(e.getters.initialiseCarousel&&"carousel"===t.type){var n=t.items[0].actions[0]._id;window.Bots.triggerPostback(n)}t.actionType="received",e.commit("addSmoochMsg",t)})},sendSmoochMsg:function(t,e){"undefined"!==typeof window.Bots.sendMessage?window.Bots.sendMessage(e).then(function(){}).catch(function(t){console.error(t)}):console.error("websdk not initialised")},loadSmoochMsgs:function(t){var e=this,n=window.Bots.getConversation();if(n.messages.length<=0){var o=e.getters.userTalkingTo,a=e.getters.initialBotMsg,i=e.getters.initialHumanMsg,s=e.getters.selectedHandOffObj,r=e.getters.userAssistMsg;"undefined"!==typeof s?(e.commit("sendSmoochMsg",s.initMsg),"undefined"!==typeof r&&r.length>0&&setTimeout(function(){e.commit("sendSmoochMsg",r),e.commit("updateConvState",{val:"",state:"assistMsg"})},2e3)):""!==a&&"bot"===o?e.commit("sendSmoochMsg",a):""!==i&&"human"===o&&e.commit("addMsg",{text:i,type:"text",role:"appUser"})}e.commit("updateConvState",{val:n.messages,state:"messages"}),setTimeout(function(){var t=document.getElementById("FB-conversation");document.body.classList.contains("mobile")&&(t=document.getElementById("FB-scrollWrapper")),null!==t&&t.scrollTo(0,t.scrollHeight)},10)},updateUser:function(t,e){var n=this;"undefined"===typeof e&&(e=n.getters.userObj),window.Bots.updateUser(e),setTimeout(function(){var e=window.Bots.getUser();t.smoochUserID="undefined"!==typeof e&&"undefined"!==typeof e._id?e._id:""},1e3)},logoutSmooch:function(t,e){window.Bots.logout()},removeEvents:function(t){"undefined"!==typeof window.Bots&&"undefined"!==typeof window.Bots.off&&window.Bots.off()},destroySmooch:function(t){var e=this;"undefined"!==typeof window.Bots&&"undefined"!==typeof window.Bots.destroy&&(window.Bots.destroy(),t.smoochInit=!1,e.commit("updateAppState",{val:"disconnected",state:"chatConnectionStatus"}))},clearSession:function(t){var e=this,n=Object.keys(localStorage);n.forEach(function(t){-1===e.getters.getAllStateKeys.indexOf(t)&&localStorage.removeItem(t)})},upload:function(){}},i={},s={};e["default"]={state:o,mutations:a,actions:i,getters:s}},f664:function(t,e,n){}});